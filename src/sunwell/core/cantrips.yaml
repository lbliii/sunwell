# Sunwell Built-in Cantrips (RFC-021)
#
# These are the default spells available in every Sunwell session.
# They provide basic routing without full context - lenses can override
# them with richer spell definitions.
#
# Cantrips are simple spells that are always available.

spellbook:
  # Audit/Validation
  - incantation: "::a"
    aliases: ["::audit"]
    description: "Audit code or documentation for accuracy"
    intent: code_review
    focus: ["audit", "validation", "accuracy"]

  - incantation: "::review"
    aliases: ["::r"]
    description: "General code review"
    intent: code_review
    focus: ["quality", "patterns", "issues"]

  # Testing
  - incantation: "::test"
    aliases: ["::t"]
    description: "Generate or review tests"
    intent: testing
    focus: ["testing", "coverage", "edge cases"]

  # Documentation
  - incantation: "::doc"
    aliases: ["::d", "::write"]
    description: "Write or improve documentation"
    intent: documentation
    focus: ["clarity", "examples", "structure"]

  # Help
  - incantation: "::help"
    aliases: ["::?", "::h"]
    description: "Show available spells and help"
    intent: explanation
    focus: ["help", "commands", "usage"]

  # Security
  - incantation: "::security"
    aliases: ["::sec", "::s"]
    description: "Security-focused code review"
    intent: code_review
    focus: ["security", "vulnerability", "injection", "auth"]
    complexity: complex
    instructions: |
      Perform a security-focused code review:

      1. **Input Validation** - Check all user inputs for sanitization
      2. **Authentication & Session** - Verify password hashing, session management
      3. **Authorization** - Verify access control checks, look for IDOR
      4. **Cryptography** - Verify secure algorithms
      5. **Information Disclosure** - Check error messages, debug info

  # Performance
  - incantation: "::perf"
    aliases: ["::performance"]
    description: "Performance-focused analysis"
    intent: analysis
    focus: ["performance", "optimization", "complexity", "N+1"]

  # Refactoring
  - incantation: "::refactor"
    aliases: ["::ref"]
    description: "Code refactoring suggestions"
    intent: refactoring
    focus: ["refactoring", "clean code", "patterns", "DRY"]
