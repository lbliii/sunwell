{# Pagination component #}

{% def pagination(current_page=1, total_pages=1, show_edges=true, max_visible=5) %}
<nav class="pagination" role="navigation" aria-label="Pagination">
    <button class="pagination-btn pagination-btn--prev"
            {% if current_page <= 1 %}disabled{% end %}
            onclick="goToPage({{ current_page - 1 }})"
            aria-label="Previous page">
        ‹
    </button>

    {% if show_edges and current_page > max_visible // 2 + 1 %}
        <button class="pagination-btn" onclick="goToPage(1)">1</button>
        {% if current_page > max_visible // 2 + 2 %}
            <span class="pagination-ellipsis">…</span>
        {% end %}
    {% end %}

    {% for page in range(1, total_pages + 1) %}
        {% if page >= current_page - max_visible // 2 and page <= current_page + max_visible // 2 %}
            <button class="pagination-btn {% if page == current_page %}pagination-btn--active{% end %}"
                    onclick="goToPage({{ page }})"
                    {% if page == current_page %}aria-current="page"{% end %}>
                {{ page }}
            </button>
        {% end %}
    {% end %}

    {% if show_edges and current_page < total_pages - max_visible // 2 %}
        {% if current_page < total_pages - max_visible // 2 - 1 %}
            <span class="pagination-ellipsis">…</span>
        {% end %}
        <button class="pagination-btn" onclick="goToPage({{ total_pages }})">{{ total_pages }}</button>
    {% end %}

    <button class="pagination-btn pagination-btn--next"
            {% if current_page >= total_pages %}disabled{% end %}
            onclick="goToPage({{ current_page + 1 }})"
            aria-label="Next page">
        ›
    </button>
</nav>
{% end %}

{% def pagination_info(current_page=1, per_page=10, total_items=0) %}
<div class="pagination-info">
    Showing {{ (current_page - 1) * per_page + 1 }} - {{ min(current_page * per_page, total_items) }} of {{ total_items }}
</div>
{% end %}
